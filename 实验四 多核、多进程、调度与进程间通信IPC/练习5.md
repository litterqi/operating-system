# 答案解读：
相关函数位于oslab4\kernel\sched\policy_rr.c中
## rr_sched_refill_budget()
```
target->thread_ctx->sc->budget = budget;
```
## rr_sched()
```
struct thread *cur = current_thread;
        if (cur && cur->thread_ctx && cur->thread_ctx->type != TYPE_IDLE) {
                if (current_thread->thread_ctx->sc->budget > 0 && current_thread->thread_ctx->state != TS_WAITING 
                        && cur->thread_ctx->thread_exit_state != TE_EXITING) {
                        return 0;
                }

                if (cur->thread_ctx->thread_exit_state == TE_EXITING) {
                        cur->thread_ctx->state = TS_EXIT;
                        cur->thread_ctx->thread_exit_state = TE_EXITED;
                }
                else if (cur->thread_ctx->state != TS_WAITING) {
                        rr_sched_enqueue(cur);
                }
        }

        cur = rr_sched_choose_thread();
        rr_sched_refill_budget(cur, DEFAULT_BUDGET);
        switch_to_thread(cur);
```

相关函数位于oslab4\kernel\sched\sched.c中
## sched_handle_timer_irq()
```
if (current_thread && current_thread->thread_ctx && current_thread->thread_ctx->sc && current_thread->thread_ctx->sc->budget && current_thread->thread_ctx->sc->budget > 0)
{
                --current_thread->thread_ctx->sc->budget;
}
```
